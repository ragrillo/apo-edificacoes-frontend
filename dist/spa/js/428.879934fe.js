"use strict";(globalThis["webpackChunkapo_edificacoes_client"]=globalThis["webpackChunkapo_edificacoes_client"]||[]).push([[428],{6428:(e,o,a)=>{a.r(o),a.d(o,{default:()=>T});var l=a(9835),d=a(6970),r=a(1957);const t=(0,l._)("div",{class:"text-h6"},"Cadastro de Unidade",-1),n=(0,l._)("div",{class:"text-bold"},"Informações Básicas",-1),m=(0,l._)("div",{class:"text-bold"},"Horário de Funcionamento",-1),i={class:"row q-gutter-x-sm"},u=(0,l._)("div",{class:"text-bold"},"Endereço",-1),s={class:"text-bold"},c={class:"q-gutter-y-sm"},p={class:"q-gutter-sm"},f=(0,l._)("div",{class:"text-bold q-my-md"},"Informações sobre a construtora",-1),b={class:"q-gutter-sm"},V={class:"q-py-md"},h=(0,l._)("div",{class:"text-subtitle2"},"Selecione as opções abaixo:",-1);function U(e,o,a,U,g,W){const C=(0,l.up)("q-card-section"),v=(0,l.up)("q-separator"),E=(0,l.up)("q-input"),P=(0,l.up)("q-select"),y=(0,l.up)("q-radio"),_=(0,l.up)("q-form"),S=(0,l.up)("q-btn"),k=(0,l.up)("q-card-actions"),q=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(q,{class:"q-ma-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,null,{default:(0,l.w5)((()=>[t,(0,l.Uk)(" Preencha as informações abaixo. ")])),_:1}),(0,l.Wm)(v),(0,l.Wm)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{class:"q-gutter-y-sm"},{default:(0,l.w5)((()=>[n,(0,l.Wm)(E,{modelValue:e.form.nome,"onUpdate:modelValue":o[0]||(o[0]=o=>e.form.nome=o),filled:"",label:"Nome"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.responsavel,"onUpdate:modelValue":o[1]||(o[1]=o=>e.form.responsavel=o),filled:"",label:"Responsável"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.telefone,"onUpdate:modelValue":o[2]||(o[2]=o=>e.form.telefone=o),filled:"",type:"tel",label:"DDD + Telefone",mask:"(##) #####-####"},null,8,["modelValue"]),m,(0,l._)("div",i,[(0,l.Wm)(E,{modelValue:e.form.horarioFuncionamento[0],"onUpdate:modelValue":o[3]||(o[3]=o=>e.form.horarioFuncionamento[0]=o),filled:"",class:"col",type:"time",label:"Inicial"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.horarioFuncionamento[1],"onUpdate:modelValue":o[4]||(o[4]=o=>e.form.horarioFuncionamento[1]=o),filled:"",class:"col",type:"time",label:"Final"},null,8,["modelValue"])]),u,(0,l.Wm)(E,{loading:e.isCepLoading,color:"primary",modelValue:e.form.endereco.cep,"onUpdate:modelValue":o[5]||(o[5]=o=>e.form.endereco.cep=o),filled:"",type:"tel",label:"CEP",mask:"##.###-###",onKeyup:o[6]||(o[6]=o=>e.handleCep(e.form.endereco))},null,8,["loading","modelValue"]),(0,l.Wm)(E,{modelValue:e.form.endereco.logradouro,"onUpdate:modelValue":o[7]||(o[7]=o=>e.form.endereco.logradouro=o),filled:"",label:"Logradouro"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.endereco.numero,"onUpdate:modelValue":o[8]||(o[8]=o=>e.form.endereco.numero=o),filled:"",type:"number",label:"Número"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.endereco.bairro,"onUpdate:modelValue":o[9]||(o[9]=o=>e.form.endereco.bairro=o),filled:"",label:"Bairro"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.endereco.cidade,"onUpdate:modelValue":o[10]||(o[10]=o=>e.form.endereco.cidade=o),filled:"",label:"Cidade"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.endereco.estado,"onUpdate:modelValue":o[11]||(o[11]=o=>e.form.endereco.estado=o),filled:"",label:"Estado"},null,8,["modelValue"]),(0,l._)("div",s,"Informações sobre "+(0,d.zw)(e.token.edificacao),1),(0,l.wy)((0,l._)("div",c,[(0,l.Wm)(P,{modelValue:e.form.escola.tipoEscola,"onUpdate:modelValue":o[12]||(o[12]=o=>e.form.escola.tipoEscola=o),filled:"",label:"Tipo de escola",options:e.opcoes.tipoEscola},null,8,["modelValue","options"]),(0,l.Wm)(P,{modelValue:e.form.escola.modalidadeEscola,"onUpdate:modelValue":o[13]||(o[13]=o=>e.form.escola.modalidadeEscola=o),filled:"",label:"Modalidade de ensino",options:e.opcoes.modalidadeEscola},null,8,["modelValue","options"]),(0,l.Wm)(E,{modelValue:e.form.escola.quantidadeAlunos,"onUpdate:modelValue":o[14]||(o[14]=o=>e.form.escola.quantidadeAlunos=o),filled:"",type:"number",label:"Quantidade de alunos"},null,8,["modelValue"])],512),[[r.F8,"escolas"===e.token.edificacao]]),(0,l.wy)((0,l._)("div",p,[(0,l.Wm)(P,{modelValue:e.form.ubs.tipoUnidade,"onUpdate:modelValue":o[15]||(o[15]=o=>e.form.ubs.tipoUnidade=o),filled:"",label:"Tipologia da unidade",options:e.opcoes.tipoPorte},null,8,["modelValue","options"]),(0,l.Wm)(E,{modelValue:e.form.ubs.dataEntregaObra,"onUpdate:modelValue":o[16]||(o[16]=o=>e.form.ubs.dataEntregaObra=o),filled:"",label:"Data de entrega da obra"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.ubs.descricao,"onUpdate:modelValue":o[17]||(o[17]=o=>e.form.ubs.descricao=o),type:"textarea",filled:"",label:"Descrição da unidade"},null,8,["modelValue"]),f,(0,l.Wm)(E,{modelValue:e.form.ubs.construtora.nome,"onUpdate:modelValue":o[18]||(o[18]=o=>e.form.ubs.construtora.nome=o),filled:"",label:"Nome"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.ubs.construtora.telefone,"onUpdate:modelValue":o[19]||(o[19]=o=>e.form.ubs.construtora.telefone=o),filled:"",label:"Telefone",mask:"(##) #####-####"},null,8,["modelValue"]),(0,l.Wm)(E,{loading:e.isCepLoading,color:"primary",modelValue:e.form.ubs.construtora.endereco.cep,"onUpdate:modelValue":o[20]||(o[20]=o=>e.form.ubs.construtora.endereco.cep=o),filled:"",type:"tel",label:"CEP",mask:"##.###-###",onKeyup:o[21]||(o[21]=o=>e.handleCep(e.form.ubs.construtora.endereco))},null,8,["loading","modelValue"]),(0,l.Wm)(E,{modelValue:e.form.ubs.construtora.endereco.logradouro,"onUpdate:modelValue":o[22]||(o[22]=o=>e.form.ubs.construtora.endereco.logradouro=o),filled:"",label:"Logradouro"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.ubs.construtora.endereco.numero,"onUpdate:modelValue":o[23]||(o[23]=o=>e.form.ubs.construtora.endereco.numero=o),filled:"",label:"Número"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.ubs.construtora.endereco.bairro,"onUpdate:modelValue":o[24]||(o[24]=o=>e.form.ubs.construtora.endereco.bairro=o),filled:"",label:"Bairro"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.ubs.construtora.endereco.cidade,"onUpdate:modelValue":o[25]||(o[25]=o=>e.form.ubs.construtora.endereco.cidade=o),filled:"",label:"Cidade"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.ubs.construtora.endereco.estado,"onUpdate:modelValue":o[26]||(o[26]=o=>e.form.ubs.construtora.endereco.estado=o),filled:"",label:"Estado"},null,8,["modelValue"])],512),[[r.F8,"ubs"===e.token.edificacao]]),(0,l.wy)((0,l._)("div",b,[(0,l.Wm)(P,{filled:"",modelValue:e.form.habitacao.tipoUnidade,"onUpdate:modelValue":o[27]||(o[27]=o=>e.form.habitacao.tipoUnidade=o),label:"Tipologia da unidade",options:e.opcoes.tipoHabitacao},null,8,["modelValue","options"]),(0,l.wy)((0,l.Wm)(E,{filled:"",modelValue:e.form.habitacao.numeroPavimentos,"onUpdate:modelValue":o[28]||(o[28]=o=>e.form.habitacao.numeroPavimentos=o),label:"Número de pavimentos"},null,8,["modelValue"]),[[r.F8,"Apartamento"===e.form.habitacao.tipoUnidade]]),(0,l.wy)((0,l._)("div",V,[h,(0,l._)("div",null,[(0,l.Wm)(y,{modelValue:e.form.habitacao.tipoCasa[0],"onUpdate:modelValue":o[29]||(o[29]=o=>e.form.habitacao.tipoCasa[0]=o),label:"Térrea",val:"Térrea"},null,8,["modelValue"]),(0,l.Wm)(y,{modelValue:e.form.habitacao.tipoCasa[0],"onUpdate:modelValue":o[30]||(o[30]=o=>e.form.habitacao.tipoCasa[0]=o),label:"Sobrado",val:"Sobrado"},null,8,["modelValue"])]),(0,l._)("div",null,[(0,l.Wm)(y,{modelValue:e.form.habitacao.tipoCasa[1],"onUpdate:modelValue":o[31]||(o[31]=o=>e.form.habitacao.tipoCasa[1]=o),label:"Isolado",val:"Isolado"},null,8,["modelValue"]),(0,l.Wm)(y,{modelValue:e.form.habitacao.tipoCasa[1],"onUpdate:modelValue":o[32]||(o[32]=o=>e.form.habitacao.tipoCasa[1]=o),label:"Germinado",val:"Germinado"},null,8,["modelValue"])])],512),[[r.F8,"Casa"===e.form.habitacao.tipoUnidade]]),(0,l.Wm)(E,{modelValue:e.form.habitacao.blocosExistentes,"onUpdate:modelValue":o[33]||(o[33]=o=>e.form.habitacao.blocosExistentes=o),filled:"",type:"number",label:"Blocos existentes"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.habitacao.unidadesPorBloco,"onUpdate:modelValue":o[34]||(o[34]=o=>e.form.habitacao.unidadesPorBloco=o),filled:"",type:"number",label:"Unidades por bloco"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.habitacao.totalUnidades,"onUpdate:modelValue":o[35]||(o[35]=o=>e.form.habitacao.totalUnidades=o),filled:"",type:"number",label:"Total de unidades"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.habitacao.nomeConstrutora,"onUpdate:modelValue":o[36]||(o[36]=o=>e.form.habitacao.nomeConstrutora=o),filled:"",label:"Nome da construtora"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.habitacao.anoEntregaObra,"onUpdate:modelValue":o[37]||(o[37]=o=>e.form.habitacao.anoEntregaObra=o),filled:"",label:"Ano de entrega da obra",mask:"####"},null,8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.form.habitacao.descricao,"onUpdate:modelValue":o[38]||(o[38]=o=>e.form.habitacao.descricao=o),type:"textarea",filled:"",label:"Descrição"},null,8,["modelValue"])],512),[[r.F8,"residencias"===e.token.edificacao]])])),_:1})])),_:1}),(0,l.Wm)(k,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{flat:"",color:"primary",label:"Voltar",to:"/perfil"}),(0,l.Wm)(S,{flat:"",color:"primary",label:"Salvar",onClick:e.handleCadastroUnidade,to:"/perfil"},null,8,["onClick"])])),_:1})])),_:1})}a(8964);var g=a(7490),W=a.n(g),C=a(4136);const v=JSON.parse('{"AC":"Acre","AL":"Alagoas","AP":"Amapá","AM":"Amazonas","BA":"Bahia","CE":"Ceará","DF":"Distrito Federal","ES":"Espírito Santo","GO":"Goiás","MA":"Maranhão","MT":"Mato Grosso","MS":"Mato Grosso do Sul","MG":"Minas Gerais","PA":"Pará","PB":"Paraíba","PR":"Paraná","PE":"Pernambuco","PI":"Piauí","RJ":"Rio de Janeiro","RN":"Rio Grande do Norte","RS":"Rio Grande do Sul","RO":"Rondônia","RR":"Roraima","SC":"Santa Catarina","SP":"São Paulo","SE":"Sergipe","TO":"Tocantins"}'),E=(0,l.aZ)({data(){return{opcoes:{tipoEscola:["Municipal","Estadual","Federal","Particular"],tipoHabitacao:["Casa","Apartamento"],modalidadeEscola:["Infantil","Fundamental","Médio","Jovens e Adultos","Fundamental e Médio"],horarioFuncionamento:["Manhã","Tarde","Noite"],tipoPorte:["Porte I","Porte II","Porte III","Porte IV","Porte V"]},form:{proprietario:"",nome:"",responsavel:"",telefone:"",horarioFuncionamento:[],tipoUnidade:"",endereco:{cep:"",logradouro:"",numero:"",bairro:"",cidade:"",estado:""},escola:{tipoEscola:"",modalidadeEscola:"",quantidadeAlunos:""},habitacao:{tipoUnidade:"",tipoCasa:["",""],numeroPavimentos:"",blocosExistentes:"",unidadesPorBloco:"",totalUnidades:"",nomeConstrutora:"",anoEntregaObra:"",descricao:""},ubs:{tipoUnidade:"",dataEntregaObra:"",descricao:"",construtora:{nome:"",telefone:"",endereco:{cep:"",logradouro:"",numero:"",bairro:"",cidade:"",estado:""}}}},token:{},isCepLoading:!1}},mounted(){const e=localStorage.getItem("apo@usuario_session");this.token=W().decode(e)},methods:{async handleCep(e){const{cep:o}=e;if(10===o.length){this.isCepLoading=!0;const a=o.replace("-","").replace(".",""),l=`https://viacep.com.br/ws/${a}/json`,d=await fetch(l),r=await d.json();e.logradouro=r.logradouro,e.bairro=r.bairro,e.cidade=r.localidade,e.estado=v[r.uf],this.isCepLoading=!1}},async handleCadastroUnidade(){const e=this.token.edificacao.toLowerCase();this.form.proprietario=this.token.id;const o={...this.form,...this.form[e]};delete o.escola,delete o.habitacao,delete o.ubs,await C.api.post(`/unidades/${e}`,o)}}});var P=a(1639),y=a(4458),_=a(3190),S=a(926),k=a(8326),q=a(6611),w=a(6997),A=a(1480),F=a(1821),I=a(4455),x=a(9984),M=a.n(x);const R=(0,P.Z)(E,[["render",U]]),T=R;M()(E,"components",{QCard:y.Z,QCardSection:_.Z,QSeparator:S.Z,QForm:k.Z,QInput:q.Z,QSelect:w.Z,QRadio:A.Z,QCardActions:F.Z,QBtn:I.Z})}}]);