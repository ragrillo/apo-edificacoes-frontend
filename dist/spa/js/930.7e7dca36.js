"use strict";(globalThis["webpackChunkapo_edificacoes_client"]=globalThis["webpackChunkapo_edificacoes_client"]||[]).push([[930],{8930:(e,a,o)=>{o.r(a),o.d(a,{default:()=>Ce});var i=o(9835),t=o(6970);const r={class:"text-bold"},l=(0,i._)("div",{class:"text-bold"},"Gestão e Projeto",-1),n=(0,i._)("div",{class:"text-bold"},"Ambientes",-1);function s(e,a,o,s,d,m){const u=(0,i.up)("q-linear-progress"),c=(0,i.up)("q-card-section"),p=(0,i.up)("q-separator"),b=(0,i.up)("q-btn"),f=(0,i.up)("q-item-label"),g=(0,i.up)("q-item-section"),h=(0,i.up)("q-item"),w=(0,i.up)("q-list"),q=(0,i.up)("q-card"),C=(0,i.up)("q-card-actions"),v=(0,i.up)("PopUpEditarAmbienteVue"),A=(0,i.up)("PopUpCriteriosAmbiente"),_=(0,i.up)("PopUpCriteriosUnidade");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(q,{class:"q-ma-lg"},{default:(0,i.w5)((()=>[d.isLoading?((0,i.wg)(),(0,i.j4)(u,{key:0,indeterminate:"",color:"primary"})):(0,i.kq)("",!0),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i._)("div",r,(0,t.zw)(d.nomeUnidade),1)])),_:1}),(0,i.Wm)(p),(0,i.Wm)(c,{class:"q-gutter-y-md"},{default:(0,i.w5)((()=>[l,(0,i.Wm)(b,{unelevated:"",color:"primary",label:"Avaliar Gestão e Projeto",onClick:a[0]||(a[0]=e=>m.mostrarPopUpUnidade())}),(0,i.Wm)(p),n,(0,i.Wm)(b,{unelevated:"",color:"primary",label:"Adicionar Ambiente",icon:"add",onClick:a[1]||(a[1]=e=>d.adicionarAmbiente=!0)}),(0,i.Wm)(q,{flat:"",bordered:""},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.ambientes,((e,a)=>((0,i.wg)(),(0,i.j4)(w,{key:a},{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(f,{lines:"1"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(e.nome),1)])),_:2},1024)])),_:2},1024),(0,i.Wm)(g,{side:""},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{flat:"",color:"primary",label:"Avaliar",onClick:a=>m.mostrarPopUpAmbiente(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1024),(0,i.Wm)(p)])),_:2},1024)))),128))])),_:1})])),_:1}),(0,i.Wm)(p),(0,i.Wm)(C,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{flat:"",color:"primary",label:"Atualizar",onClick:a[2]||(a[2]=e=>m.recarregarPagina())}),(0,i.Wm)(b,{flat:"",color:"primary",label:"Voltar",to:"/perfil"})])),_:1})])),_:1}),d.adicionarAmbiente?((0,i.wg)(),(0,i.j4)(v,{key:0,idUnidade:d.idUnidade,onClose:a[3]||(a[3]=e=>m.encerrarEdicao())},null,8,["idUnidade"])):(0,i.kq)("",!0),d.avaliarAmbiente?((0,i.wg)(),(0,i.j4)(A,{key:1,ambiente:d.ambiente,onFecharpopup:a[4]||(a[4]=e=>d.avaliarAmbiente=!1)},null,8,["ambiente"])):(0,i.kq)("",!0),d.avaliarUnidade?((0,i.wg)(),(0,i.j4)(_,{key:2,unidade:d.idUnidade,onFecharpopup:a[5]||(a[5]=e=>d.avaliarUnidade=!1)},null,8,["unidade"])):(0,i.kq)("",!0)],64)}var d=o(4136);const m=JSON.parse('{"ubs":["Almoxarifado","Área Descoberta / Playground","BWC","Circulação","Cisterna","Consultório","Consultório Odontológico","Copa","Depósito de Materiais de Limpeza","Depósito de Resíduos","Embarque e Desembarque de Ambulância","Estacionamento","Estocagem/Dipensação de Medicamentos","Expurgo","Jardim","Sala de Administração","Sala de Atividades Coletivas","Sala de Coleta","Sala de Curativos","Sala de Esterelização","Sala de Inalação","Sala de Observação / Procedimentos","Sala de Recepção/Espera","Sala de Vacinas","Outros (descrever)"],"residencias":["Sala","Dormitório","Banheiro","Área de Serviço","Copa","Cozinha","Corredor","Escada","Garagem","Outros (descrever)"],"escolas":["Recepção","Diretoria","Secretaria","Coordenação Pedagógica","Sala dos Professores","Área para educacao fisica e recreio","Laboratório","Biblioteca","Refeitorio","Copa-Cozinha","Despensa","Almoxarifado","Equip. Preparo alimentos","Sanitarios","Lavatorios","Salas de Aulas"]}'),u=(0,i._)("div",{class:"text-h6"},"Adicionar ambiente",-1),c=(0,i._)("div",{class:"q-ma-md text-bold"},"Infomações básicas",-1),p=(0,i._)("div",{class:"q-ma-md text-bold"},"Dimensões",-1),b=(0,i._)("div",{class:"q-ma-md text-bold"},"Janelas",-1),f={key:0,class:"q-ma-md text-bold"},g=(0,i._)("div",{class:"q-ma-md text-bold"},"Portas",-1),h={key:1,class:"q-ma-md text-bold"};function w(e,a,o,t,r,l){const n=(0,i.up)("q-card-section"),s=(0,i.up)("q-separator"),d=(0,i.up)("q-input"),m=(0,i.up)("q-select"),w=(0,i.up)("q-checkbox"),q=(0,i.up)("q-btn"),C=(0,i.up)("CardEsquadria"),v=(0,i.up)("q-card-actions"),A=(0,i.up)("q-card"),_=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.j4)(_,{modelValue:r.show},{default:(0,i.w5)((()=>[(0,i.Wm)(A,{style:{width:"100%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[u])),_:1}),(0,i.Wm)(s),(0,i.Wm)(n,{class:"q-gutter-y-sm"},{default:(0,i.w5)((()=>[c,(0,i.Wm)(d,{modelValue:r.form.nome,"onUpdate:modelValue":a[0]||(a[0]=e=>r.form.nome=e),filled:"",label:"Nome do ambiente"},null,8,["modelValue"]),(0,i.Wm)(m,{modelValue:r.form.cobertura,"onUpdate:modelValue":a[1]||(a[1]=e=>r.form.cobertura=e),filled:"",label:"Tipo do ambiente",behavior:"menu",options:r.options.cobertura},null,8,["modelValue","options"]),p,(0,i.Wm)(d,{modelValue:r.form.dimensoes.largura,"onUpdate:modelValue":a[2]||(a[2]=e=>r.form.dimensoes.largura=e),filled:"",label:"Largura (m)",type:"number",onKeyup:a[3]||(a[3]=e=>l.calcularAreaAmbiente())},null,8,["modelValue"]),(0,i.Wm)(d,{modelValue:r.form.dimensoes.comprimento,"onUpdate:modelValue":a[4]||(a[4]=e=>r.form.dimensoes.comprimento=e),filled:"",label:"Comprimento (m)",type:"number",onKeyup:a[5]||(a[5]=e=>l.calcularAreaAmbiente())},null,8,["modelValue"]),(0,i.Wm)(d,{modelValue:r.form.dimensoes.peDireito,"onUpdate:modelValue":a[6]||(a[6]=e=>r.form.dimensoes.peDireito=e),filled:"",label:"Pé direito (m)",type:"number"},null,8,["modelValue"]),(0,i.Wm)(d,{modelValue:r.form.areaAmbiente,"onUpdate:modelValue":a[7]||(a[7]=e=>r.form.areaAmbiente=e),filled:"",label:"Área Total (m²)",type:"number"},null,8,["modelValue"]),b,(0,i.Wm)(d,{modelValue:t.larguraJanela,"onUpdate:modelValue":a[8]||(a[8]=e=>t.larguraJanela=e),filled:"",label:"Largura (m)",type:"number"},null,8,["modelValue"]),(0,i.Wm)(d,{modelValue:t.alturaJanela,"onUpdate:modelValue":a[9]||(a[9]=e=>t.alturaJanela=e),filled:"",label:"Altura (m)",type:"number"},null,8,["modelValue"]),(0,i.Wm)(d,{modelValue:t.ventilacao,"onUpdate:modelValue":a[10]||(a[10]=e=>t.ventilacao=e),filled:"",label:"Área de Ventilação(m²)",type:"number"},null,8,["modelValue"]),(0,i.Wm)(w,{modelValue:t.fachada,"onUpdate:modelValue":a[11]||(a[11]=e=>t.fachada=e),filled:"",label:"Instalada na fachada"},null,8,["modelValue"]),(0,i._)("div",null,[(0,i.Wm)(q,{unelevated:"",label:"Adicionar",color:"primary",onClick:a[12]||(a[12]=e=>l.adicionarArea("Janela"))})]),0!=r.form.janelas.length?((0,i.wg)(),(0,i.iD)("div",f,"Janelas adicionadas")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.form.janelas,((e,a)=>((0,i.wg)(),(0,i.j4)(C,(0,i.dG)({key:e.nomeEsquadria},e,{onApagarEsquadria:e=>l.apagarEsquadria(a,"janela")}),null,16,["onApagarEsquadria"])))),128)),g,(0,i.Wm)(d,{modelValue:t.larguraPorta,"onUpdate:modelValue":a[13]||(a[13]=e=>t.larguraPorta=e),filled:"",label:"Largura (m)",type:"number"},null,8,["modelValue"]),(0,i.Wm)(d,{modelValue:t.alturaPorta,"onUpdate:modelValue":a[14]||(a[14]=e=>t.alturaPorta=e),filled:"",label:"Altura (m)",type:"number"},null,8,["modelValue"]),(0,i._)("div",null,[(0,i.Wm)(q,{unelevated:"",label:"Adicionar",color:"primary",onClick:a[15]||(a[15]=e=>l.adicionarArea("Porta"))})]),0!=r.form.portas.length?((0,i.wg)(),(0,i.iD)("div",h,"Portas adicionadas")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.form.portas,((e,a)=>((0,i.wg)(),(0,i.j4)(C,(0,i.dG)({key:e.nomeEsquadria},e,{onApagarEsquadria:e=>l.apagarEsquadria(a,"porta")}),null,16,["onApagarEsquadria"])))),128))])),_:1}),(0,i.Wm)(s),(0,i.Wm)(v,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(q,{flat:"",color:"primary",label:"Cancelar",onClick:a[16]||(a[16]=e=>l.encerrarEdicao())}),(0,i.Wm)(q,{flat:"",color:"primary",label:"Salvar",onClick:a[17]||(a[17]=e=>l.salvarAmbiente())})])),_:1})])),_:1})])),_:1},8,["modelValue"])}o(9665);var q=o(499);const C={class:"column items-center"},v=(0,i._)("div",{class:"text-bold"},"Altura",-1),A={class:"column items-center"},_=(0,i._)("div",{class:"text-bold"},"Largura",-1),y={key:0,class:"column items-center"},P=(0,i._)("div",{class:"text-bold"},"Ventilação",-1),W={key:1,class:"column items-center"},k=(0,i._)("div",{class:"text-bold"},"Fachada",-1),V={class:"column items-center"},Z=(0,i._)("div",{class:"text-bold"},"Área",-1),U={class:"column items-center"};function Q(e,a,o,r,l,n){const s=(0,i.up)("q-btn"),d=(0,i.up)("q-card-section"),m=(0,i.up)("q-card");return(0,i.wg)(),(0,i.j4)(m,{flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{class:"full-width row justify-between items-center content-center"},{default:(0,i.w5)((()=>[(0,i._)("div",C,[v,(0,i._)("div",null,(0,t.zw)(e.altura.toFixed(2))+" m",1)]),(0,i._)("div",A,[_,(0,i._)("div",null,(0,t.zw)(e.largura.toFixed(2))+" m",1)]),null!=e.ventilacao?((0,i.wg)(),(0,i.iD)("div",y,[P,(0,i._)("div",null,(0,t.zw)(e.ventilacao.toFixed(2))+" m²",1)])):(0,i.kq)("",!0),null!=e.fachada?((0,i.wg)(),(0,i.iD)("div",W,[k,(0,i._)("div",null,(0,t.zw)(e.fachada?"Sim":"Não"),1)])):(0,i.kq)("",!0),(0,i._)("div",V,[Z,(0,i._)("div",null,(0,t.zw)(e.areaJanela.toFixed(2))+" m²",1)]),(0,i._)("div",U,[(0,i.Wm)(s,{rounded:"",dense:"",flat:"",color:"primary",icon:"delete",onClick:a[0]||(a[0]=a=>e.apagarEsquadria())})])])),_:1})])),_:1})}const j=(0,i.aZ)({name:"CardEsquadria",emits:["apagarEsquadria"],props:{nomeEsquadria:{type:String,required:!0},altura:{type:Number,default:0},largura:{type:Number,default:0},ventilacao:{type:Number},fachada:{type:Boolean},areaJanela:{type:Number}},data(){return{token:{}}},methods:{apagarEsquadria(){this.$emit("apagarEsquadria")}}});var S=o(1639),E=o(4458),D=o(3190),x=o(4455),J=o(9984),F=o.n(J);const L=(0,S.Z)(j,[["render",Q]]),G=L;F()(j,"components",{QCard:E.Z,QCardSection:D.Z,QBtn:x.Z});const I={cobertura:["Coberto","Descoberto"]},z={unidade:"",nome:"",grupo:"",cobertura:"",dimensoes:{largura:null,comprimento:null,peDireito:null},areaAmbiente:0,areaEsquadrias:0,janelas:[],portas:[]},H={emits:["close"],props:{idUnidade:{type:String,required:!0}},components:{CardEsquadria:G},data(){return{form:z,options:I,show:!0}},setup(){return{fachada:(0,q.iH)(!1),larguraJanela:(0,q.iH)(""),alturaJanela:(0,q.iH)(""),ventilacao:(0,q.iH)(),larguraPorta:(0,q.iH)(""),alturaPorta:(0,q.iH)("")}},mounted(){this.form.unidade=this.idUnidade},methods:{adicionarArea(e){"Janela"===e?(this.form.janelas.push({nomeEsquadria:"janela",largura:parseFloat(this.larguraJanela),altura:parseFloat(this.alturaJanela),ventilacao:parseFloat(this.ventilacao),fachada:this.fachada,areaJanela:parseFloat(this.larguraJanela)*parseFloat(this.alturaJanela)}),this.larguraJanela="",this.alturaJanela="",this.ventilacao="",this.fachada=!1):(this.form.portas.push({nomeEsquadria:"porta",largura:parseFloat(this.larguraPorta),altura:parseFloat(this.alturaPorta),fachada:null,areaJanela:parseFloat(this.larguraPorta)*parseFloat(this.alturaPorta)}),this.larguraPorta="",this.alturaPorta="")},apagarEsquadria(e,a){"janela"===a?this.form.janelas.splice(e,1):this.form.portas.splice(e,1)},calcularAreaAmbiente(){const{largura:e,comprimento:a}=this.form.dimensoes;this.form.areaAmbiente=e*a},encerrarEdicao(){this.$emit("close")},async salvarAmbiente(){const{largura:e,comprimento:a,peDireito:o}=this.form.dimensoes,i={...this.form,dimensoes:{largura:parseFloat(e),comprimento:parseFloat(a),peDireito:parseFloat(o)}};await d.api.post("/ambientes",i),this.limparForm(),this.encerrarEdicao()},limparForm(){this.form.nome="",this.form.grupo="",this.form.cobertura="",this.form.dimensoes.largura=null,this.form.dimensoes.comprimento=null,this.form.dimensoes.peDireito=null,this.form.areaAmbiente=0,this.form.areaEsquadrias=0,this.form.janelas=[],this.form.portas=[]}}};var R=o(7743),$=o(926),B=o(6611),N=o(6997),O=o(6937),K=o(1821);const T=(0,S.Z)(H,[["render",w]]),M=T;F()(H,"components",{QDialog:R.Z,QCard:E.Z,QCardSection:D.Z,QSeparator:$.Z,QInput:B.Z,QSelect:N.Z,QCheckbox:O.Z,QBtn:x.Z,QCardActions:K.Z});const Y={class:"text-h6"};function X(e,a,o,r,l,n){const s=(0,i.up)("q-card-section"),d=(0,i.up)("q-separator"),m=(0,i.up)("q-item-label"),u=(0,i.up)("q-item-section"),c=(0,i.up)("q-btn"),p=(0,i.up)("q-item"),b=(0,i.up)("q-list"),f=(0,i.up)("q-tab-panel"),g=(0,i.up)("q-tab-panels"),h=(0,i.up)("q-card-actions"),w=(0,i.up)("q-card"),q=(0,i.up)("q-dialog"),C=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(q,{modelValue:!0,persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{style:{width:"100%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{class:"row items-center"},{default:(0,i.w5)((()=>[(0,i._)("div",Y,(0,t.zw)(e.ambiente.nome),1)])),_:1}),(0,i.Wm)(d),(0,i.Wm)(g,{modelValue:e.dimension,"onUpdate:modelValue":a[0]||(a[0]=a=>e.dimension=a)},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{name:"Ambiente"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.criterios,((a,o)=>((0,i.wg)(),(0,i.j4)(b,{key:o},{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(a.titulo),1)])),_:2},1024)])),_:2},1024),e.verificaRespondido(a.numero)?((0,i.wg)(),(0,i.j4)(u,{key:0,side:""},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{flat:"",color:"green",label:"Responder",onClick:o=>e.irParaCriterio(a.numero)},null,8,["onClick"])])),_:2},1024)):((0,i.wg)(),(0,i.j4)(u,{key:1,side:""},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{flat:"",color:"primary",label:"Responder",onClick:o=>e.irParaCriterio(a.numero)},null,8,["onClick"])])),_:2},1024))])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(d),(0,i.Wm)(h,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(c,{flat:"",color:"primary",label:"Voltar",onClick:a[1]||(a[1]=a=>e.fecharpopup())},null,512),[[C]])])),_:1})])),_:1})])),_:1})}const ee=JSON.parse('[{"numero":"01","titulo":"Materiais e Acabamentos","dimensao":"Ambiente","respondido":false},{"numero":"02","titulo":"Escolhas Construtivas e Documentação","dimensao":"Gestão e Projeto","respondido":false},{"numero":"03","titulo":"Acessibilidade e Circulação","dimensao":"Gestão e Projeto","respondido":false},{"numero":"04","titulo":"Aspectos Físicos","dimensao":"Ambiente","respondido":true},{"numero":"05","titulo":"Espaços","dimensao":"Ambiente","respondido":true},{"numero":"06","titulo":"Satisfação dos Usuários","dimensao":"Ambiente","respondido":true},{"numero":"07","titulo":"Conforto Visual","dimensao":"Ambiente","respondido":false},{"numero":"08","titulo":"Qualidade do Ar","dimensao":"Ambiente","respondido":false},{"numero":"09","titulo":"Conforto Térmico","dimensao":"Ambiente","respondido":false},{"numero":"10","titulo":"Conforto Acústico","dimensao":"Ambiente","respondido":true},{"numero":"11","titulo":"Gestão e Manutenção","dimensao":"Gestão e Projeto","respondido":false},{"numero":"12","titulo":"Segurança Estrutural","dimensao":"Gestão e Projeto","respondido":false},{"numero":"13","titulo":"Instalações Elétricas","dimensao":"Gestão e Projeto","respondido":false},{"numero":"14","titulo":"Instalações Hidraulicas","dimensao":"Gestão e Projeto","respondido":true},{"numero":"15","titulo":"Sustentabilidade","dimensao":"Gestão e Projeto","respondido":true},{"numero":"16","titulo":"Custos","dimensao":"Gestão e Projeto","respondido":false},{"numero":"17","titulo":"Local, Uso e Ocupação","dimensao":"Gestão e Projeto","respondido":false},{"numero":"18","titulo":"Mobilidade","dimensao":"Gestão e Projeto","respondido":true},{"numero":"19","titulo":"Promoção e Manutenção da Saúde","dimensao":"Gestão e Projeto","respondido":true},{"numero":"20","titulo":"Comunicação e Usuário","dimensao":"Gestão e Projeto","respondido":false},{"numero":"21","titulo":"Aspectos Sociais e Culturais","dimensao":"Gestão e Projeto","respondido":true},{"numero":"22","titulo":"Segurança Pessoal e Patrimonial","dimensao":"Gestão e Projeto","respondido":false}]'),ae=(0,i.aZ)({name:"CriteriosPage",props:{ambiente:{type:Object,required:!0}},data(){return{criterios:[],dimension:"Ambiente",respostas:[],verifica:[]}},mounted(){localStorage.setItem("apo@ambiente_id",this.ambiente._id),this.handleDimensionChange(),this.obterRespostas()},methods:{async obterRespostas(){const e=await d.api.get("/formularios");this.respostas=e.data.filter((e=>e.ambiente===this.ambiente._id))},verificaRespondido(e){const a=this.respostas.filter((a=>a.respostas[0].criterio.slice(0,2)===e));return 0!==a.length},handleDimensionChange(){this.criterios=ee.filter((e=>e.dimensao===this.dimension))},irParaCriterio(e){const a=`/criterio/${e}`;this.$router.push(a)},fecharpopup(){this.$emit("fecharpopup",!1)}}});var oe=o(9800),ie=o(4106),te=o(3246),re=o(490),le=o(1233),ne=o(3115),se=o(2146);const de=(0,S.Z)(ae,[["render",X]]),me=de;F()(ae,"components",{QDialog:R.Z,QCard:E.Z,QCardSection:D.Z,QSeparator:$.Z,QTabPanels:oe.Z,QTabPanel:ie.Z,QList:te.Z,QItem:re.Z,QItemSection:le.Z,QItemLabel:ne.Z,QBtn:x.Z,QCardActions:K.Z}),F()(ae,"directives",{ClosePopup:se.Z});const ue={class:"row"},ce={class:"col text-bold"};function pe(e,a,o,r,l,n){const s=(0,i.up)("q-linear-progress"),d=(0,i.up)("q-btn"),m=(0,i.up)("q-card-section"),u=(0,i.up)("q-card"),c=(0,i.up)("q-list"),p=(0,i.up)("q-separator"),b=(0,i.up)("q-card-actions"),f=(0,i.up)("q-dialog"),g=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(f,{modelValue:!0,persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{style:{width:"100%"}},{default:(0,i.w5)((()=>[e.isLoading?((0,i.wg)(),(0,i.j4)(s,{key:0,indeterminate:"",color:"primary"})):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.criterios,((a,o)=>((0,i.wg)(),(0,i.j4)(c,{key:o},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{flat:"",bordered:"",class:"q-ma-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i._)("div",ue,[(0,i._)("div",ce,(0,t.zw)(a.nome),1),(0,i._)("div",null,[(0,i.Wm)(d,{class:"col",flat:"",disable:a.respondido,color:a.respondido?"green":"primary",label:a.respondido?"Respondido":"Responder",icon:a.respondido?"done":void 0,onClick:o=>e.irParaCriterio(a.numero)},null,8,["disable","color","label","icon","onClick"])])])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,i.Wm)(p),(0,i.Wm)(b,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(d,{flat:"",color:"primary",label:"Voltar",onClick:a[0]||(a[0]=a=>e.fecharpopup())},null,512),[[g]])])),_:1})])),_:1})])),_:1})}const be=(0,i.aZ)({name:"CriteriosPage",props:{unidade:{type:String,required:!0}},data(){return{criterios:[],isLoading:!0,dimension:"Gestão e Projeto"}},mounted(){this.handleDimensionChange()},methods:{async handleDimensionChange(){const{data:e}=await d.api.get("/dimensoes");this.criterios=e.filter((e=>e.grupo===this.dimension)),this.isLoading=!1},irParaCriterio(e){const a=`/criterio/${e}`;this.$router.push(a)},fecharpopup(){this.$emit("fecharpopup",!1)}}});var fe=o(8289);const ge=(0,S.Z)(be,[["render",pe]]),he=ge;F()(be,"components",{QDialog:R.Z,QCard:E.Z,QLinearProgress:fe.Z,QList:te.Z,QCardSection:D.Z,QBtn:x.Z,QSeparator:$.Z,QCardActions:K.Z}),F()(be,"directives",{ClosePopup:se.Z});const we={components:{PopUpEditarAmbienteVue:M,PopUpCriteriosAmbiente:me,PopUpCriteriosUnidade:he},data(){return{ambientes:[],listaAmbientes:[],idUnidade:null,nomeUnidade:null,adicionarAmbiente:!1,avaliarAmbiente:!1,avaliarUnidade:!1,ambiente:null,isLoading:!0}},mounted(){const e=localStorage.getItem("apo@unidade_id"),a=localStorage.getItem("apo@usuario_edificacao");this.getUnidade(e),this.getAmbientes(e),this.idUnidade=e,this.listaAmbientes=m[a]},methods:{async getAmbientes(e){this.isLoading=!0;const a=`/ambientes/unidade/${e}`,{data:o}=await d.api.get(a);this.ambientes=o,this.isLoading=!1},async getUnidade(e){const a=localStorage.getItem("apo@usuario_edificacao"),o=`/unidades/${a}/${e}`,{data:i}=await d.api.get(o);this.nomeUnidade=i.nome},mostrarPopUpAmbiente(e){this.avaliarAmbiente=!0,this.ambiente=e},mostrarPopUpUnidade(){this.avaliarUnidade=!0},encerrarEdicao(){this.adicionarAmbiente=!1,this.getAmbientes(this.idUnidade)},recarregarPagina(){window.location.reload()}}},qe=(0,S.Z)(we,[["render",s]]),Ce=qe;F()(we,"components",{QCard:E.Z,QLinearProgress:fe.Z,QCardSection:D.Z,QSeparator:$.Z,QBtn:x.Z,QList:te.Z,QItem:re.Z,QItemSection:le.Z,QItemLabel:ne.Z,QCardActions:K.Z})}}]);