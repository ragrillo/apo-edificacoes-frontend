"use strict";(globalThis["webpackChunkapo_edificacoes_client"]=globalThis["webpackChunkapo_edificacoes_client"]||[]).push([[43],{7374:(e,a,o)=>{o.d(a,{Z:()=>c});var l=o(9835);function r(e,a,o,r,n,s){const t=(0,l.up)("q-btn"),i=(0,l.up)("q-input");return(0,l.wg)(),(0,l.j4)(i,{modelValue:n.senha,"onUpdate:modelValue":a[0]||(a[0]=e=>n.senha=e),filled:"",label:o.label,type:s.alterarTipo,onKeyup:s.obterSenha},{append:(0,l.w5)((()=>[(0,l.Wm)(t,{dense:"",rounded:"",flat:"",onClick:s.mostrarSenha,icon:s.alterarIcone,color:"grey-6"},null,8,["onClick","icon"])])),_:1},8,["modelValue","label","type","onKeyup"])}const n={props:{label:{type:String,default:"Senha"}},data(){return{senha:"",icone:"visibility",isVisible:!1}},methods:{mostrarSenha(){this.isVisible=!this.isVisible},obterSenha(){this.$emit("senha",this.senha)}},computed:{alterarTipo(){return this.isVisible?"text":"password"},alterarIcone(){return this.isVisible?"visibility_off":"visibility"}}};var s=o(1639),t=o(6611),i=o(4455),d=o(9984),m=o.n(d);const u=(0,s.Z)(n,[["render",r]]),c=u;m()(n,"components",{QInput:t.Z,QBtn:i.Z})},6234:(e,a,o)=>{o.d(a,{Z:()=>c});var l=o(9835),r=o(6970);function n(e,a,o,n,s,t){const i=(0,l.up)("q-banner");return(0,l.wg)(),(0,l.j4)(i,{class:(0,r.C_)("q-mt-sm text-white bg-"+("error"===o.type?"red":"green"))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(o.message),1)])),_:1},8,["class"])}const s={props:{message:{type:String,required:!0},type:{type:String,default:"info"}}};var t=o(1639),i=o(7128),d=o(9984),m=o.n(d);const u=(0,t.Z)(s,[["render",n]]),c=u;m()(s,"components",{QBanner:i.Z})},4043:(e,a,o)=>{o.r(a),o.d(a,{default:()=>Ve});var l=o(9835);const r=(0,l._)("div",{class:"text-h6"},"Solicitar Cadastro",-1),n=(0,l._)("p",null,"Cadastrar um Usuário ou Empresa",-1),s=(0,l._)("div",{class:"text-bold"},"Tipo de Cadastro",-1);function t(e,a,o,t,i,d){const m=(0,l.up)("CadastroSelect"),u=(0,l.up)("q-card-section"),c=(0,l.up)("EmpresaCadastro"),p=(0,l.up)("ColaboradorCadastro"),f=(0,l.up)("MoradorCadastro"),b=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(b,{class:"q-ma-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[r,n,s,(0,l.Wm)(m,{onUsuarioSelecionado:e.addUsuario},null,8,["onUsuarioSelecionado"])])),_:1}),e.isUsuario("Empresa")?((0,l.wg)(),(0,l.j4)(c,{key:0})):(0,l.kq)("",!0),e.isUsuario("Colaborador")?((0,l.wg)(),(0,l.j4)(p,{key:1})):(0,l.kq)("",!0),e.isUsuario("Morador")?((0,l.wg)(),(0,l.j4)(f,{key:2})):(0,l.kq)("",!0)])),_:1})}function i(e,a,o,r,n,s){const t=(0,l.up)("q-select");return(0,l.wg)(),(0,l.j4)(t,{class:"q-my-sm",modelValue:e.usuarioSelecionado,"onUpdate:modelValue":[a[0]||(a[0]=a=>e.usuarioSelecionado=a),a[1]||(a[1]=a=>e.enviarUsuario(e.usuarioSelecionado))],filled:"",label:"Usuário",behavior:"menu",options:e.listaUsuarios},null,8,["modelValue","options"])}var d=o(499);const m=["Empresa","Colaborador","Morador"],u=(0,l.aZ)({data(){return{listaUsuarios:m}},setup(){return{usuarioSelecionado:(0,d.iH)()}},methods:{enviarUsuario(e){null!=e&&this.$emit("usuarioSelecionado",e)}}});var c=o(1639),p=o(6997),f=o(9984),b=o.n(f);const g=(0,c.Z)(u,[["render",i]]),h=g;b()(u,"components",{QSelect:p.Z});const S=(0,l._)("div",{class:"q-mb-md text-bold"},"Informaçẽs sobre Empresa",-1),C={class:"q-gutter-y-sm"};function V(e,a,o,r,n,s){const t=(0,l.up)("q-input"),i=(0,l.up)("FormEnderecoComponentVue"),d=(0,l.up)("q-form"),m=(0,l.up)("QMessageVue"),u=(0,l.up)("q-card-section"),c=(0,l.up)("q-btn"),p=(0,l.up)("q-card-actions");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[S,(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",C,[(0,l.Wm)(t,{filled:"",modelValue:n.empresa.cnpj,"onUpdate:modelValue":a[0]||(a[0]=e=>n.empresa.cnpj=e),label:"CNPJ",type:"tel",mask:"##.###.###/####-##"},null,8,["modelValue"]),(0,l.Wm)(t,{filled:"",modelValue:n.empresa.razaoSocial,"onUpdate:modelValue":a[1]||(a[1]=e=>n.empresa.razaoSocial=e),label:"Nome da Empresa"},null,8,["modelValue"]),(0,l.Wm)(t,{filled:"",modelValue:n.empresa.telefone,"onUpdate:modelValue":a[2]||(a[2]=e=>n.empresa.telefone=e),label:"DDD + Telefone",mask:"(##) #####-####"},null,8,["modelValue"]),(0,l.Wm)(i,{form:n.empresa.endereco,onEndereco:s.obterEndereco},null,8,["form","onEndereco"])])])),_:1}),n.mensagem?((0,l.wg)(),(0,l.j4)(m,{key:0,message:n.mensagem,type:n.tipoMensagem},null,8,["message","type"])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(p,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{flat:"",label:"Voltar",color:"primary",onClick:a[3]||(a[3]=a=>e.$router.back())}),(0,l.Wm)(c,{flat:"",label:"Solicitar Cadastro",color:"primary",onClick:a[4]||(a[4]=e=>s.salvarEmpresa(n.empresa))})])),_:1})],64)}var v=o(4136);function w(e,a,o,r,n,s){const t=(0,l.up)("q-input");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(t,{filled:"",loading:n.isCepLoading,color:"primary",modelValue:n.endereco.cep,"onUpdate:modelValue":a[0]||(a[0]=e=>n.endereco.cep=e),type:"tel",label:"CEP",mask:"##.###-###",onKeyup:a[1]||(a[1]=e=>s.obterCep(n.endereco.cep))},null,8,["loading","modelValue"]),(0,l.Wm)(t,{filled:"",modelValue:n.endereco.logradouro,"onUpdate:modelValue":a[2]||(a[2]=e=>n.endereco.logradouro=e),label:"Logradouro"},null,8,["modelValue"]),(0,l.Wm)(t,{filled:"",modelValue:n.endereco.numero,"onUpdate:modelValue":a[3]||(a[3]=e=>n.endereco.numero=e),label:"Número"},null,8,["modelValue"]),(0,l.Wm)(t,{filled:"",modelValue:n.endereco.bairro,"onUpdate:modelValue":a[4]||(a[4]=e=>n.endereco.bairro=e),label:"Bairro"},null,8,["modelValue"]),(0,l.Wm)(t,{filled:"",modelValue:n.endereco.complemento,"onUpdate:modelValue":a[5]||(a[5]=e=>n.endereco.complemento=e),label:"Complemento"},null,8,["modelValue"]),(0,l.Wm)(t,{filled:"",modelValue:n.endereco.cidade,"onUpdate:modelValue":a[6]||(a[6]=e=>n.endereco.cidade=e),label:"Cidade"},null,8,["modelValue"]),(0,l.Wm)(t,{filled:"",modelValue:n.endereco.estado,"onUpdate:modelValue":a[7]||(a[7]=e=>n.endereco.estado=e),label:"Estado"},null,8,["modelValue"])],64)}o(8964);const y=JSON.parse('{"AC":"Acre","AL":"Alagoas","AP":"Amapá","AM":"Amazonas","BA":"Bahia","CE":"Ceará","DF":"Distrito Federal","ES":"Espírito Santo","GO":"Goiás","MA":"Maranhão","MT":"Mato Grosso","MS":"Mato Grosso do Sul","MG":"Minas Gerais","PA":"Pará","PB":"Paraíba","PR":"Paraná","PE":"Pernambuco","PI":"Piauí","RJ":"Rio de Janeiro","RN":"Rio Grande do Norte","RS":"Rio Grande do Sul","RO":"Rondônia","RR":"Roraima","SC":"Santa Catarina","SP":"São Paulo","SE":"Sergipe","TO":"Tocantins"}'),q={cep:"",logradouro:"",numero:"",bairro:"",cidade:"",estado:"",complemento:""},Z={emits:["endereco"],props:{form:Object},data(){return{endereco:q,isCepLoading:!1}},methods:{inserirEndereco(e){const{logradouro:a,bairro:o,localidade:l,uf:r}=e;this.endereco.logradouro=a,this.endereco.bairro=o,this.endereco.cidade=l,this.endereco.estado=y[r]},async requestCep(e){const a=e.replace("-","").replace(".",""),o=`https://viacep.com.br/ws/${a}/json`,l=await fetch(o),r=await l.json();return r},async obterCep(e){if(10===e.length){this.isCepLoading=!0;const a=await this.requestCep(e);this.inserirEndereco(a),this.$emit("endereco",this.endereco),this.isCepLoading=!1}}}};var W=o(6611);const U=(0,c.Z)(Z,[["render",w]]),Q=U;b()(Z,"components",{QInput:W.Z});var E=o(6234);const _={cnpj:"",razaoSocial:"",endereco:{cep:"",logradouro:"",numero:"",bairro:"",cidade:"",estado:""},telefone:""},k={name:"EmpresaCadastro",data(){return{empresa:_,mensagem:null,tipoMensagem:"info"}},components:{QMessageVue:E.Z,FormEnderecoComponentVue:Q},methods:{obterEndereco(e){this.empresa.endereco=e},async salvarEmpresa(e){const a="/empresas",{data:o}=await v.api.post(a,e);this.mensagem=o}}};var M=o(3190),j=o(8326),P=o(1821),A=o(4455);const I=(0,c.Z)(k,[["render",V]]),R=I;b()(k,"components",{QCardSection:M.Z,QForm:j.Z,QInput:W.Z,QCardActions:P.Z,QBtn:A.Z});const z=(0,l._)("div",{class:"q-mb-md text-bold"},"Informaçẽs sobre Usuário",-1),x={class:"q-gutter-y-sm"};function D(e,a,o,r,n,s){const t=(0,l.up)("CargoSelect"),i=(0,l.up)("EmpresaSelectComponent"),d=(0,l.up)("q-select"),m=(0,l.up)("q-input"),u=(0,l.up)("QInputSenha"),c=(0,l.up)("q-form"),p=(0,l.up)("QMessageVue"),f=(0,l.up)("q-card-section"),b=(0,l.up)("q-btn"),g=(0,l.up)("q-card-actions");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[z,(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l._)("div",x,[(0,l.Wm)(t,{onCargoSelecionado:s.obterCargo},null,8,["onCargoSelecionado"]),(0,l.Wm)(i,{onEmpresaSelecionada:s.obterEmpresaSelecionada},null,8,["onEmpresaSelecionada"]),(0,l.Wm)(d,{filled:"",modelValue:n.form.edificacao,"onUpdate:modelValue":a[0]||(a[0]=e=>n.form.edificacao=e),label:"Edificação",behavior:"menu",options:n.edificacoes,"emit-value":"","map-options":""},null,8,["modelValue","options"]),(0,l.Wm)(m,{filled:"",modelValue:n.form.nomeCompleto,"onUpdate:modelValue":a[1]||(a[1]=e=>n.form.nomeCompleto=e),label:"Nome Completo"},null,8,["modelValue"]),(0,l.Wm)(m,{filled:"",modelValue:n.form.telefone,"onUpdate:modelValue":a[2]||(a[2]=e=>n.form.telefone=e),label:"DDD + Telefone",type:"tel",mask:"(##) #####-####"},null,8,["modelValue"]),(0,l.Wm)(m,{filled:"",modelValue:n.form.email,"onUpdate:modelValue":a[3]||(a[3]=e=>n.form.email=e),label:"E-mail",type:"email"},null,8,["modelValue"]),(0,l.Wm)(u,{onSenha:s.obterSenha},null,8,["onSenha"]),(0,l.Wm)(u,{label:"Confirmar senha"})])])),_:1}),n.mensagem?((0,l.wg)(),(0,l.j4)(p,{key:0,message:n.mensagem,type:n.tipoMensagem},null,8,["message","type"])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(g,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{flat:"",label:"Voltar",color:"primary",onClick:a[4]||(a[4]=a=>e.$router.back())}),(0,l.Wm)(b,{flat:"",label:"Solicitar Cadastro",color:"primary",onClick:a[5]||(a[5]=e=>s.salvarUsuario())})])),_:1})],64)}var T=o(6970);const B={class:"text-bold q-mb-md"},N={readonly:""};function G(e,a,o,r,n,s){const t=(0,l.up)("q-item-label"),i=(0,l.up)("q-item-section"),d=(0,l.up)("q-card-section"),m=(0,l.up)("q-btn"),u=(0,l.up)("q-card-actions"),c=(0,l.up)("q-card"),p=(0,l.up)("q-popup-proxy"),f=(0,l.up)("q-item"),b=(0,l.up)("q-select");return(0,l.wg)(),(0,l.j4)(b,{filled:"",modelValue:e.cargoSelecionado,"onUpdate:modelValue":[a[0]||(a[0]=a=>e.cargoSelecionado=a),a[1]||(a[1]=a=>e.enviarCargo(e.cargoSelecionado))],options:e.listaCargos,behavior:"menu",label:"Cargo","emit-value":"","map-options":""},{option:(0,l.w5)((e=>[(0,l.Wm)(f,(0,l.dG)(e.itemProps,{class:"fit justify-between"}),{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(t,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.opt.label),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(i,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{dense:"",flat:"",rounded:"",color:"primary",icon:"info",push:""},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{style:{width:"50%"},"context-menu":""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",B,(0,T.zw)(e.opt.label),1),(0,l._)("div",N,(0,T.zw)(e.opt.description),1)])),_:2},1024),(0,l.Wm)(u,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{flat:"",label:"Fechar",color:"primary"})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"])}var $=o(7885);const F=(0,d.iH)(),L=(0,l.aZ)({name:"CargoSelect",emits:["cargoSelecionado"],data(){return{listaCargos:$}},setup(){return{cargoSelecionado:F}},methods:{enviarCargo(e){null!=e&&this.$emit("cargoSelecionado",e)}}});var O=o(490),H=o(1233),J=o(3115),Y=o(2765),K=o(4458);const X=(0,c.Z)(L,[["render",G]]),ee=X;function ae(e,a,o,r,n,s){const t=(0,l.up)("q-select");return(0,l.wg)(),(0,l.j4)(t,{modelValue:n.empresaSelecionada,"onUpdate:modelValue":[a[0]||(a[0]=e=>n.empresaSelecionada=e),s.escolherEmpresa],filled:"",label:"Empresa",behavior:"menu",options:n.empresas.map((e=>e.razaoSocial))},null,8,["modelValue","onUpdate:modelValue","options"])}b()(L,"components",{QSelect:p.Z,QItem:O.Z,QItemSection:H.Z,QItemLabel:J.Z,QBtn:A.Z,QPopupProxy:Y.Z,QCard:K.Z,QCardSection:M.Z,QCardActions:P.Z});const oe={data(){return{empresas:[],empresaSelecionada:null}},mounted(){this.getEmpresas()},methods:{escolherEmpresa(e){const a=this.empresas.find((a=>a.razaoSocial===e));this.$emit("empresaSelecionada",a._id)},async getEmpresas(){const{data:e}=await v.api.get("/empresas");this.empresas=e}}},le=(0,c.Z)(oe,[["render",ae]]),re=le;b()(oe,"components",{QSelect:p.Z});var ne=o(7374);const se=JSON.parse('[{"label":"Escola","value":"escolas"},{"label":"Residência","value":"residencias"},{"label":"UBS","value":"ubs"}]'),te={cargo:"",empresa:"",edificacao:"",nomeCompleto:"",telefone:"",email:"",senha:""},ie={components:{QInputSenha:ne.Z,QMessageVue:E.Z,CargoSelect:ee,EmpresaSelectComponent:re},data(){return{edificacoes:se,form:te,mensagem:null,tipoMensagem:"info"}},methods:{async salvarUsuario(){const e={...this.form},{data:a}=await v.api.post("/usuarios",e);this.mensagem=a},obterSenha(e){this.form.senha=e},obterCargo(e){this.form.cargo=e},obterEmpresaSelecionada(e){this.form.empresa=e}}},de=(0,c.Z)(ie,[["render",D]]),me=de;b()(ie,"components",{QCardSection:M.Z,QForm:j.Z,QSelect:p.Z,QInput:W.Z,QCardActions:P.Z,QBtn:A.Z});const ue=(0,l._)("div",{class:"q-mb-md text-bold"},"Informaçẽs sobre Usuário",-1),ce={class:"q-gutter-y-sm"};function pe(e,a,o,r,n,s){const t=(0,l.up)("q-select"),i=(0,l.up)("q-input"),d=(0,l.up)("QInputSenha"),m=(0,l.up)("q-form"),u=(0,l.up)("QMessageVue"),c=(0,l.up)("q-card-section"),p=(0,l.up)("q-btn"),f=(0,l.up)("q-card-actions");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ue,(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l._)("div",ce,[(0,l.Wm)(t,{filled:"",readonly:"",modelValue:n.form.edificacao,"onUpdate:modelValue":a[0]||(a[0]=e=>n.form.edificacao=e),label:"Edificação",behavior:"menu",options:n.edificacoes},null,8,["modelValue","options"]),(0,l.Wm)(i,{filled:"",modelValue:n.form.nomeCompleto,"onUpdate:modelValue":a[1]||(a[1]=e=>n.form.nomeCompleto=e),label:"Nome Completo"},null,8,["modelValue"]),(0,l.Wm)(i,{filled:"",modelValue:n.form.telefone,"onUpdate:modelValue":a[2]||(a[2]=e=>n.form.telefone=e),label:"Telefone",type:"tel",mask:"(##) #####-####"},null,8,["modelValue"]),(0,l.Wm)(i,{filled:"",modelValue:n.form.email,"onUpdate:modelValue":a[3]||(a[3]=e=>n.form.email=e),label:"E-mail",type:"email"},null,8,["modelValue"]),(0,l.Wm)(d,{onSenha:s.obterSenha},null,8,["onSenha"]),(0,l.Wm)(d,{label:"Confirmar senha"})])])),_:1}),n.mensagem?((0,l.wg)(),(0,l.j4)(u,{key:0,message:n.mensagem,type:n.tipoMensagem},null,8,["message","type"])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(f,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{flat:"",label:"Voltar",color:"primary",onClick:a[4]||(a[4]=a=>e.$router.back())}),(0,l.Wm)(p,{flat:"",label:"Solicitar Cadastro",color:"primary",onClick:a[5]||(a[5]=e=>s.salvarUsuario())})])),_:1})],64)}const fe={edificacao:se[1],nomeCompleto:"",telefone:"",email:"",senha:""},be={components:{QInputSenha:ne.Z,QMessageVue:E.Z},data(){return{edificacoes:se,form:fe,mensagem:null,tipoMensagem:"info"}},methods:{async salvarUsuario(){const e={...this.form,edificacao:se[1].value},{data:a}=await v.api.post("/usuarios",e);this.mensagem=a},obterSenha(e){this.form.senha=e}}},ge=(0,c.Z)(be,[["render",pe]]),he=ge;b()(be,"components",{QCardSection:M.Z,QForm:j.Z,QSelect:p.Z,QInput:W.Z,QCardActions:P.Z,QBtn:A.Z});const Se=(0,l.aZ)({name:"CadastrarUsuario",components:{CadastroSelect:h,EmpresaCadastro:R,ColaboradorCadastro:me,MoradorCadastro:he},data(){return{usuario:"",message:""}},methods:{addUsuario(e){this.usuario=e},messageResposta(e){this.message=e},isUsuario(e){return this.usuario===e}}}),Ce=(0,c.Z)(Se,[["render",t]]),Ve=Ce;b()(Se,"components",{QCard:K.Z,QCardSection:M.Z})},7885:e=>{e.exports=JSON.parse('[{"value":"1","label":"Ambiente ou Coordenador","description":"Profissional responsável pela gestão e organização do processo de trabalho da unidade bem como a integração da mesma com outros serviços do município."},{"value":"2","label":"Técnico, Engenheiro ou Arquiteto","description":"Profissional técnico responsável pela vistoria e verificação dos projetos, orientação e fiscalização das atividades e obras de construção civil. Responsável pela avaliação dos serviços executados bem como a otimização das etapas de serviços dentro do cronograma apresentado."},{"value":"3","label":"Gestor do Departamento","description":"Profissional responsável por organizar os objetivos da empresa/departamento, planejar as metas e delegar as tarefas para que os colaboradores consigam colocar em prática o que a empresa/departamento almeja. Responsável pela tomada de decisões, como alocação de recursos. "},{"value":"4","label":"Diretor da Secretaria","description":"Profissional responsável por planejar, organizar, dirigir, coordenar e controlar as ações políticas e de comunicação da empresa/secretaria/prefeitura. No setor privado é o responsável por dirigir e administrar a empresa, buscando a obtenção de lucro. Responsável pela tomada de decisões, como aprovação de recursos. "},{"value":"5","label":"Administrador","description":"Profissional responsável por criar e fazer as manutenções da estrutura do aplicativo. Executa as permissões de novos usuários."}]')}}]);